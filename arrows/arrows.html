<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Arrows</title>
    <style type="text/css">
        body {
            font-family: "Roboto Mono", monospace;
        }

        .box {
            border: 1px solid #2c3e50;
            width: 128px;
            height: 128px;
            position: absolute;
            top: 0;
            left: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #ecf0f1;
            user-select: none;
        }

        .point {
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 100%;
            background-color: #e74c3c;
        }

        .box.dragged {
            background-color: #95a5a6;
        }

        .svg-arrow {
            position: absolute;
            top: 0;
            left: 0;
            overflow: visible;
        }
        .svg-arrow path {
            stroke-width: 2px;
            stroke: #e74c3c;
        }

        #a {
            left: 200px;
            width: 64px;
            height: 64px;
        }

    </style>
</head>
<body>

    <div class="box draggable" id="a">
        A
    </div>
    <div class="box draggable" id="b">
        B
    </div>

    <script src="draggable.js"></script>
    <script src="arrows.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", _ => {
            const a = document.querySelector("#a")
            const b = document.querySelector("#b")
            let arrow = arrows.connect(a, b);
            // document.addEventListener("keydown", _ => {
            //     if (arrow === null) {
            //         arrow = arrows.connect(a, b)
            //     } else {
            //         arrows.update(arrow, a, b)
            //     }
            // })
        })

        document.addEventListener('keydown', e => {
            if (e.key === ' ') {
                location.reload()
            }
        })

    </script>

</body>
</html>