<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Arrows</title>
    <style type="text/css">
        body {
            font-family: "Roboto Mono", monospace;
            background-color: #ecf0f1;
        }

        .content {
            width: 640px;
            margin: auto;
            background-color: white;
            position: relative;
            height: 480px;
        }

        h1 {
            text-align: center;
        }

        .box {
            border: 1px solid #2c3e50;
            width: 128px;
            height: 128px;
            position: absolute;
            top: 0;
            left: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #bdc3c7;
            user-select: none;
        }

        .point {
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 100%;
            background-color: #e74c3c;
            z-index: 20;
            display: none;
        }

        .box.dragged {
            background-color: #95a5a6;
        }

        .svg-arrow {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 50;
        }
        .svg-arrow path {
            stroke: #e74c3c;
        }

        #a {
            left: 96px;
            top: 64px;
        }

        #b {
            left: 512px;
            top: 320px;
            width: 64px;
            height: 64px;
        }

    </style>
</head>
<body>

    <h1>Arrow</h1>
    <section class="content">
        <div class="box draggable" id="a">
            A
        </div>
        <div class="box draggable" id="b">
            B
        </div>
    </section>

    <script src="draggable.js"></script>
    <script src="arrows.js"></script>
    <script>
        let arrow = null;
        document.addEventListener("DOMContentLoaded", _ => {
            const a = document.querySelector("#a")
            const b = document.querySelector("#b")

            arrow = new Arrow()
            arrow.connect(a, b);

            document.addEventListener('mousemove', e => {
                if (arrow !== null)
                    arrow.connect(a, b)
            })

            document.addEventListener('keydown', e => {
                if (arrow !== null)
                    arrow.connect(a, b)
            })
        })


    </script>

</body>
</html>