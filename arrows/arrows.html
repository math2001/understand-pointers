<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Arrows</title>
    <style type="text/css">
        body {
            font-family: "Roboto Mono", monospace;
        }

        .box {
            border: 1px solid #2c3e50;
            width: 128px;
            height: 128px;
            position: absolute;
            top: 0;
            left: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #ecf0f1;
            user-select: none;
        }

        .point {
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 100%;
            background-color: #e74c3c;
            z-index: 2;
        }

        .box.dragged {
            background-color: #95a5a6;
        }

        .svg-arrow {
            position: absolute;
            top: 0;
            left: 0;
            /* make sure the svg is pixel perfect (transform aligns things
            on the raster grid*/
            /* not 100% sure if that actually does anything*/
            transform: translate(0, 0);
        }
        .svg-arrow path {
            stroke-width: 4px;
            stroke: #e74c3c;
        }

        #a {
            left: 200px;
            width: 64px;
            height: 64px;
        }

    </style>
</head>
<body>

    <div class="box draggable" id="a">
        A
    </div>
    <div class="box draggable" id="b">
        B
    </div>

    <script src="draggable.js"></script>
    <script src="arrows.js"></script>
    <script>
        let arrow = null;
        document.addEventListener("DOMContentLoaded", _ => {
            const a = document.querySelector("#a")
            const b = document.querySelector("#b")

            arrow = new Arrow()
            arrow.connect(a, b);

            document.addEventListener('mousemove', e => {
                if (arrow !== null)
                    arrow.connect(a, b)
            })

            document.addEventListener('keydown', e => {
                console.log(a, b)
                if (arrow !== null)
                    arrow.connect(a, b)
            })
        })


    </script>

</body>
</html>